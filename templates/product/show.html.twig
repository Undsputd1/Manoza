{% extends 'base.html.twig' %}

{% block title %}{{ product.name }} Details{% endblock %}
{% block page_title %}Product Details{% endblock %}

{% block body %}
<div class="product-details-container">
    <div class="product-details-card">
        <div class="image-section">
            {% if product.image %}
                <img src="{{ asset('uploads/' ~ product.image) }}" alt="{{ product.name }}" class="product-image">
            {% else %}
                <img src="https://via.placeholder.com/400x300.png?text=No+Image+Available" alt="No Image" class="product-image">
            {% endif %}
        </div>

        <div class="info-section">
            <h2 class="product-title">{{ product.name }}</h2>
            <p><strong>Item:</strong> {{ product.item }}</p>
            <p><strong>Price:</strong> ‚Ç±{{ product.price }}</p>
            <p><strong>Stock:</strong> {{ product.stock }}</p>
            <p><strong>Ordering:</strong> {{ product.ordering }}</p>
            <p><strong>Reviews:</strong> {{ product.reviews }}</p>
            <p><strong>Category:</strong> {{ product.category ? product.category.name : 'No Category' }}</p>

            <div class="action-buttons">
                <a href="{{ path('app_product_edit', {'id': product.id}) }}" class="btn btn-warning">‚úèÔ∏è Edit</a>

                <form method="post" action="{{ path('app_product_delete', {'id': product.id}) }}" 
                      onsubmit="return confirm('Are you sure you want to delete this product?');" style="display:inline;">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ product.id) }}">
                    <button class="btn btn-danger">üóëÔ∏è Delete</button>
                </form>

                <a href="{{ path('app_product_index') }}" class="btn btn-secondary">‚Ü© Back to List</a>
            </div>
        </div>
    </div>
</div>

<style>
body {
    background-color: #121212;
    color: #e0e0e0;
}

.product-details-container {
    display: flex;
    justify-content: center;
    padding: 2rem;
}

.product-details-card {
    display: flex;
    flex-direction: row;
    gap: 2rem;
    background: #1e1e1e;
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 0 15px rgba(0,0,0,0.6);
    width: 100%;
    max-width: 900px;
    align-items: center;
}

.image-section {
    flex: 1;
    text-align: center;
}

.product-image {
    width: 100%;
    max-width: 350px;
    height: auto;
    border-radius: 12px;
    box-shadow: 0 0 12px rgba(0, 128, 255, 0.4);
}

.info-section {
    flex: 1;
}

.product-title {
    font-size: 2rem;
    color: #4da6ff;
    margin-bottom: 1rem;
}

.info-section p {
    margin: 0.4rem 0;
    font-size: 1rem;
    color: #ccc;
}

.action-buttons {
    margin-top: 1.5rem;
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.btn {
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    text-decoration: none;
    color: white;
    font-weight: 500;
    transition: background 0.2s ease;
}

.btn-warning { background-color: #f0ad4e; }
.btn-warning:hover { background-color: #d99631; }

.btn-danger { background-color: #dc3545; }
.btn-danger:hover { background-color: #a71d2a; }

.btn-secondary { background-color: #6c757d; }
.btn-secondary:hover { background-color: #545b62; }
</style>
{% endblock %}
